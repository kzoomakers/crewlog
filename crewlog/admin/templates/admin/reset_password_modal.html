<div class="modal-header">
    <h5 class="modal-title">Reset Password: {{ user.username }}</h5>
    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
        <span aria-hidden="true">&times;</span>
    </button>
</div>
<form action="{{ url_for('admin_api.reset_password', user_id=user.id) }}" method="post">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
    <div class="modal-body">
        <div class="alert alert-warning">
            <strong>Warning:</strong> This will immediately change the user's password. They will need to use the new password to log in.
        </div>
        
        <div class="form-group">
            <label for="newPassword">New Password</label>
            <input type="password" class="form-control" id="newPassword" name="newPassword" 
                   required minlength="4">
            <small class="form-text text-muted">Minimum 4 characters.</small>
        </div>
        
        <hr>
        
        <p class="text-muted">Alternatively, you can send a password reset email to the user:</p>
        <form action="{{ url_for('admin_api.send_reset_email', user_id=user.id) }}" method="post" style="display:inline;">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
            <button type="submit" class="btn btn-outline-info btn-sm">
                &#x2709; Send Password Reset Email
            </button>
        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
        <button type="submit" class="btn btn-warning">Reset Password</button>
    </div>
</form>